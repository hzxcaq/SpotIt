# SpotIt - ç‰©å“å®šä½åŠ©æ‰‹

ä¸€æ¬¾å¸®åŠ©ä½ è¿½è¸ªå’Œç®¡ç†å®¶ä¸­ç‰©å“ä½ç½®çš„ PWA åº”ç”¨ã€‚å†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ‰¾ä¸åˆ°ä¸œè¥¿äº†ï¼

## ğŸ“– æ–‡æ¡£

- **[ç”¨æˆ·æŒ‡å—](./USER_GUIDE.md)** - é¢å‘æ™®é€šç”¨æˆ·çš„å®Œæ•´ä½¿ç”¨æŒ‡å—
- **[æŠ€æœ¯æ–‡æ¡£](#æŠ€æœ¯æ ˆ)** - å¼€å‘è€…æŠ€æœ¯æ–‡æ¡£ï¼ˆæœ¬æ–‡æ¡£ï¼‰

## åŠŸèƒ½ç‰¹æ€§

- **å¤šåœ°ç‚¹ç®¡ç†**ï¼šæ”¯æŒç®¡ç†å¤šå¥—æˆ¿äº§ï¼Œæ¯ä¸ªåœ°ç‚¹ç‹¬ç«‹ç®¡ç†æˆ¿é—´å’Œç‰©å“
- **å±‚çº§ç®¡ç†**ï¼šåœ°ç‚¹ â†’ æˆ¿é—´ â†’ å®¹å™¨ â†’ ç‰©å“ï¼Œæ¸…æ™°çš„å››çº§ç»“æ„
- **æ‹ç…§æ·»åŠ **ï¼šä½¿ç”¨ç›¸æœºæ‹æ‘„ç‰©å“ç…§ç‰‡ï¼Œå¿«é€Ÿæ·»åŠ ç‰©å“
- **å›¾ç‰‡ç®¡ç†**ï¼šä¸ºç‰©å“æ·»åŠ ç…§ç‰‡ï¼Œç›´è§‚è¯†åˆ«
- **å¿«é€Ÿæœç´¢**ï¼šæŒ‰åç§°æœç´¢ç‰©å“ï¼Œå¿«é€Ÿå®šä½
- **è‡ªåŠ¨å¤‡ä»½**ï¼šæ¯å¤©è‡ªåŠ¨å¤‡ä»½æ•°æ®ï¼Œæ”¯æŒè‡ªåŠ¨ä¿å­˜åˆ°æ–‡ä»¶å¤¹æˆ–æç¤ºä¸‹è½½
- **æ•°æ®æ¢å¤**ï¼šä»å¤‡ä»½å†å²æˆ–æ–‡ä»¶å¿«é€Ÿæ¢å¤æ•°æ®
- **ç¦»çº¿å¯ç”¨**ï¼šPWA æ”¯æŒï¼Œæ— ç½‘ç»œä¹Ÿèƒ½ä½¿ç”¨
- **æœ¬åœ°å­˜å‚¨**ï¼šæ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨ IndexedDBï¼Œéšç§å®‰å…¨
- **ç§»åŠ¨ä¼˜å…ˆ**ï¼šå“åº”å¼è®¾è®¡ï¼Œæ‰‹æœºä½“éªŒä¼˜ç§€
- **æ·»åŠ åˆ°ä¸»å±**ï¼šæ”¯æŒå®‰è£…ä¸ºç‹¬ç«‹åº”ç”¨

## æŠ€æœ¯æ ˆ

- Next.js 16 + React 19
- TypeScript
- Tailwind CSS + shadcn/ui
- Dexie (IndexedDB)
- next-pwa (Service Worker)

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm / yarn / pnpm

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/hzxcaq/SpotIt.git
cd SpotIt

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® http://localhost:3000

### ç”Ÿäº§æ„å»º

```bash
# æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

## éƒ¨ç½²æ–¹å¼

### æ–¹å¼ä¸€ï¼šVercelï¼ˆæ¨èï¼‰

æœ€ç®€å•çš„éƒ¨ç½²æ–¹å¼ï¼Œè‡ªåŠ¨ HTTPSï¼Œå…¨çƒ CDNã€‚

1. Fork æœ¬é¡¹ç›®åˆ°ä½ çš„ GitHub
2. è®¿é—® [vercel.com](https://vercel.com)
3. ç‚¹å‡» "New Project" â†’ å¯¼å…¥ä½ çš„ä»“åº“
4. ç‚¹å‡» "Deploy"

æˆ–ä½¿ç”¨ Vercel CLIï¼š

```bash
npm i -g vercel
vercel
```

### æ–¹å¼äºŒï¼šNetlify

1. è®¿é—® [netlify.com](https://netlify.com)
2. ç‚¹å‡» "Add new site" â†’ "Import an existing project"
3. è¿æ¥ GitHub å¹¶é€‰æ‹©ä»“åº“
4. æ„å»ºè®¾ç½®ï¼š
   - Build command: `npm run build`
   - Publish directory: `.next`
5. ç‚¹å‡» "Deploy"

### æ–¹å¼ä¸‰ï¼šDocker

```dockerfile
# Dockerfile
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM node:18-alpine AS runner
WORKDIR /app
ENV NODE_ENV=production
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static
COPY --from=builder /app/public ./public
EXPOSE 3000
CMD ["node", "server.js"]
```

æ„å»ºå¹¶è¿è¡Œï¼š

```bash
docker build -t spotit .
docker run -p 3000:3000 spotit
```

### æ–¹å¼å››ï¼šé™æ€å¯¼å‡º

é€‚ç”¨äºçº¯é™æ€æ‰˜ç®¡ï¼ˆGitHub Pagesã€Cloudflare Pages ç­‰ï¼‰ã€‚

1. ä¿®æ”¹ `next.config.ts`ï¼š

```typescript
const nextConfig: NextConfig = {
  output: 'export',
  // ...
};
```

2. æ„å»ºï¼š

```bash
npm run build
```

3. å°† `out` ç›®å½•éƒ¨ç½²åˆ°ä»»æ„é™æ€æ‰˜ç®¡æœåŠ¡

### æ–¹å¼äº”ï¼šè‡ªæ‰˜ç®¡ (PM2)

```bash
# å®‰è£… PM2
npm i -g pm2

# æ„å»ºé¡¹ç›®
npm run build

# å¯åŠ¨æœåŠ¡
pm2 start npm --name "spotit" -- start

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 save
pm2 startup
```

### æ–¹å¼å…­ï¼šNginx åå‘ä»£ç†

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

é…åˆ Let's Encrypt è·å–å…è´¹ HTTPSï¼š

```bash
sudo certbot --nginx -d your-domain.com
```

## ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `PORT` | æœåŠ¡ç«¯å£ | 3000 |
| `NODE_ENV` | è¿è¡Œç¯å¢ƒ | development |

## ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡ä½¿ç”¨

1. **åˆ›å»ºåœ°ç‚¹**ï¼šé¦–é¡µç‚¹å‡»åœ°ç‚¹é€‰æ‹©å™¨ â†’ ç®¡ç† â†’ æ·»åŠ æ–°åœ°ç‚¹ï¼ˆå¦‚"å®¶"ã€"åŠå…¬å®¤"ï¼‰
2. **æ·»åŠ æˆ¿é—´**ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤æˆ¿é—´ï¼ˆå®¢å…ã€å¨æˆ¿ã€ä¸»å§ã€æ¬¡å§ã€å«ç”Ÿé—´ï¼‰
3. **æ·»åŠ ç‰©å“**ï¼šç‚¹å‡»"æ‹ç…§æ·»åŠ "ï¼Œæ‹æ‘„ç‰©å“ç…§ç‰‡åå¡«å†™ä¿¡æ¯

### å¤šåœ°ç‚¹ç®¡ç†

- é¦–é¡µé¡¶éƒ¨å¯å¿«é€Ÿåˆ‡æ¢åœ°ç‚¹
- æ¯ä¸ªåœ°ç‚¹çš„æˆ¿é—´å’Œç‰©å“ç‹¬ç«‹ç®¡ç†
- é€‚åˆç®¡ç†å¤šå¥—æˆ¿äº§æˆ–åŠå…¬å®¤

### æ‹ç…§æ·»åŠ ç‰©å“

1. é¦–é¡µç‚¹å‡»"æ‹ç…§æ·»åŠ "
2. å…è®¸æµè§ˆå™¨è®¿é—®æ‘„åƒå¤´
3. å¯¹å‡†ç‰©å“æ‹ç…§
4. è‡ªåŠ¨è·³è½¬åˆ°æ·»åŠ é¡µé¢ï¼Œç…§ç‰‡å·²å¡«å……
5. é€‰æ‹©æˆ¿é—´ã€å®¹å™¨ï¼Œå¡«å†™ç‰©å“ä¿¡æ¯

### æ•°æ®å¤‡ä»½

SpotIt æä¾›å®Œå–„çš„æ•°æ®å¤‡ä»½åŠŸèƒ½ï¼Œç¡®ä¿æ‚¨çš„æ•°æ®å®‰å…¨ï¼š

#### è‡ªåŠ¨å¤‡ä»½ï¼ˆæ¨èï¼‰

1. **å¼€å¯è‡ªåŠ¨å¤‡ä»½**ï¼šè®¾ç½®é¡µé¢ â†’ è‡ªåŠ¨å¤‡ä»½ â†’ å¼€å¯
2. **é€‰æ‹©å¤‡ä»½æ–¹å¼**ï¼š
   - **æç¤ºä¸‹è½½**ï¼šæ¯å¤©é¦–æ¬¡è®¿é—®æ—¶æç¤ºä¸‹è½½å¤‡ä»½æ–‡ä»¶ï¼ˆå…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼‰
   - **è‡ªåŠ¨ä¿å­˜åˆ°æ–‡ä»¶å¤¹**ï¼šå®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œï¼ˆChrome/Edge 86+ï¼‰

#### æ‰‹åŠ¨å¤‡ä»½

- **å¯¼å‡ºæ•°æ®**ï¼šè®¾ç½®é¡µé¢ â†’ æ‰‹åŠ¨å¤‡ä»½ä¸æ¢å¤ â†’ å¯¼å‡ºåˆ°æ–‡ä»¶
- **æ¢å¤æ•°æ®**ï¼šè®¾ç½®é¡µé¢ â†’ ä»æ–‡ä»¶æ¢å¤ â†’ é€‰æ‹©å¤‡ä»½æ–‡ä»¶

#### å¤‡ä»½å­˜å‚¨

- **æµè§ˆå™¨å¤‡ä»½**ï¼šè‡ªåŠ¨ä¿ç•™æœ€è¿‘ 7 å¤©çš„å¤‡ä»½ï¼ˆlocalStorageï¼‰
- **æ–‡ä»¶å¤‡ä»½**ï¼šè‡ªåŠ¨ä¿å­˜æ¨¡å¼åªä¿ç•™æœ€æ–° 1 ä»½ï¼ˆè¦†ç›–æ—§æ–‡ä»¶ï¼‰

> ğŸ’¡ **æç¤º**ï¼šå»ºè®®å¼€å¯è‡ªåŠ¨å¤‡ä»½å¹¶é€‰æ‹©äº‘ç›˜åŒæ­¥æ–‡ä»¶å¤¹ï¼ˆå¦‚ OneDriveã€Dropboxï¼‰ï¼Œå®ç°è‡ªåŠ¨äº‘ç«¯å¤‡ä»½ã€‚

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒ **[ç”¨æˆ·æŒ‡å— - æ•°æ®å¤‡ä»½ä¸æ¢å¤](./USER_GUIDE.md#-æ•°æ®å¤‡ä»½ä¸æ¢å¤)**

## PWA è¯´æ˜

- Service Worker ä»…åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨
- é¦–æ¬¡è®¿é—®åï¼Œé™æ€èµ„æºä¼šè¢«ç¼“å­˜
- æ–­ç½‘åä»å¯è®¿é—®å·²ç¼“å­˜çš„é¡µé¢
- æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° IndexedDBï¼Œä¸ä¼šä¸¢å¤±

### å®‰è£…ä¸ºåº”ç”¨

- **Android Chrome**ï¼šèœå• â†’ æ·»åŠ åˆ°ä¸»å±å¹•
- **iOS Safari**ï¼šåˆ†äº« â†’ æ·»åŠ åˆ°ä¸»å±å¹•
- **æ¡Œé¢ Chrome**ï¼šåœ°å€æ å³ä¾§å®‰è£…å›¾æ ‡

> æ³¨æ„ï¼šPWA å®‰è£…éœ€è¦ HTTPS ç¯å¢ƒï¼ˆlocalhost é™¤å¤–ï¼‰

## å¼€å‘å‘½ä»¤

```bash
npm run dev      # å¼€å‘æœåŠ¡å™¨
npm run build    # ç”Ÿäº§æ„å»º
npm start        # ç”Ÿäº§æœåŠ¡å™¨
npm run lint     # ä»£ç æ£€æŸ¥
npm test         # è¿è¡Œæµ‹è¯•
```

## é¡¹ç›®ç»“æ„

```
SpotIt/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”œâ”€â”€ locations/         # åœ°ç‚¹ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ rooms/             # æˆ¿é—´é¡µé¢
â”‚   â”œâ”€â”€ containers/        # å®¹å™¨é¡µé¢
â”‚   â”œâ”€â”€ items/             # ç‰©å“é¡µé¢
â”‚   â”‚   â”œâ”€â”€ new/          # æ·»åŠ ç‰©å“
â”‚   â”‚   â””â”€â”€ [itemId]/     # ç‰©å“è¯¦æƒ…
â”‚   â”œâ”€â”€ scan/              # æ‹ç…§æ·»åŠ 
â”‚   â”œâ”€â”€ search/            # æœç´¢é¡µé¢
â”‚   â””â”€â”€ settings/          # è®¾ç½®é¡µé¢
â”œâ”€â”€ components/            # ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # UI ç»„ä»¶
â”‚   â””â”€â”€ location-provider.tsx  # åœ°ç‚¹çŠ¶æ€ç®¡ç†
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”œâ”€â”€ db/               # æ•°æ®åº“å±‚
â”‚   â”‚   â”œâ”€â”€ index.ts     # Dexie é…ç½®
â”‚   â”‚   â”œâ”€â”€ hooks.ts     # React Hooks
â”‚   â”‚   â””â”€â”€ types.ts     # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ image.ts      # å›¾ç‰‡å¤„ç†
â””â”€â”€ public/               # é™æ€èµ„æº
    â”œâ”€â”€ manifest.json     # PWA æ¸…å•
    â””â”€â”€ icons/            # åº”ç”¨å›¾æ ‡
```

## ğŸ“„ License

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](./LICENSE) å¼€æºåè®®ã€‚

Copyright (c) 2026 houzhixu
